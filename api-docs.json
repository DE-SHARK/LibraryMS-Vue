{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"BookManager","description":"书籍管理相关API"},{"name":"Authentication","description":"用户认证相关API"}],"paths":{"/api/books":{"get":{"tags":["BookManager"],"summary":"获取图书列表","description":"分页查询图书馆所有图书","operationId":"listBooks","parameters":[{"name":"arg0","in":"query","description":"页码","required":false,"schema":{"type":"integer","format":"int32","default":1},"example":1},{"name":"arg1","in":"query","description":"每页数量","required":false,"schema":{"type":"integer","format":"int32","default":20},"example":20}],"responses":{"200":{"description":"图书列表查询成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultBody"}}}}}},"post":{"tags":["BookManager"],"summary":"创建图书","description":"添加一本新图书到图书馆目录","operationId":"createBook","requestBody":{"description":"图书创建请求体","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookCommand"}}},"required":true},"responses":{"201":{"description":"图书创建成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultBody"}}}},"400":{"description":"请求参数错误"},"409":{"description":"图书已存在"}}}},"/api/auth/register":{"post":{"tags":["Authentication"],"summary":"用户注册","description":"注册新用户到系统","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"201":{"description":"注册成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultBody"}}}},"400":{"description":"请求参数错误"},"409":{"description":"用户名或邮箱已存在"}}}},"/api/auth/refresh":{"post":{"tags":["Authentication"],"summary":"刷新访问令牌","description":"使用刷新令牌获取新的访问令牌","operationId":"refreshToken","parameters":[{"name":"refresh_token","in":"cookie","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"令牌刷新成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultBody"}}}},"400":{"description":"无效的刷新令牌"},"401":{"description":"未授权访问"}}}},"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"用户登录","description":"使用用户名和密码进行登录认证","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"登录成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultBody"}}}},"400":{"description":"请求参数错误"},"401":{"description":"用户名或密码错误"}}}},"/api/test":{"get":{"tags":["permission-test-controller"],"operationId":"test","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResultBodyVoid"}}}}}}},"/api/books/{isbn}":{"get":{"tags":["BookManager"],"summary":"获取图书详情","description":"根据ISBN查询图书详细信息","operationId":"getBook","parameters":[{"name":"isbn","in":"path","description":"图书ISBN号","required":true,"schema":{"type":"string"},"example":9787115549440}],"responses":{"200":{"description":"图书信息查询成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultBody"}}}},"404":{"description":"图书不存在"}}},"delete":{"tags":["BookManager"],"summary":"删除图书","description":"根据ISBN删除图书","operationId":"deleteBook","parameters":[{"name":"isbn","in":"path","description":"图书ISBN号","required":true,"schema":{"type":"string"},"example":9787115549440}],"responses":{"204":{"description":"图书删除成功"},"404":{"description":"图书不存在"}}}}},"components":{"schemas":{"CreateBookCommand":{"type":"object","properties":{"isbn":{"type":"string"}}},"ResultBody":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"string"},"data":{"type":"object"},"timestamp":{"type":"string","format":"date-time"}}},"RegisterRequest":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"ResultBodyVoid":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"string"},"data":{"type":"object"},"timestamp":{"type":"string","format":"date-time"}}}}}}